<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦™æ¸¯è·å ´äººæ ¼æ¸¬è©¦ - æ‰“å·¥ä»”å°ˆå±¬ ğŸ¢ğŸ’¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #8A2BE2 0%, #FF69B4 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 25px;
            box-shadow: 0 25px 70px rgba(0,0,0,0.25);
            max-width: 550px;
            width: 100%;
            padding: 45px 35px;
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, #FF6B6B 0%, #4ECDC4 100%);
        }
        
        .header {
            text-align: center;
            margin-bottom: 35px;
        }
        
        .header h1 {
            font-size: 32px;
            color: #333;
            margin-bottom: 15px;
            font-weight: 800;
        }
        
        .header p {
            color: #666;
            font-size: 18px;
            line-height: 1.6;
        }
        
        .dimensions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 35px;
        }
        
        .dimension {
            background: #f8f9ff;
            padding: 18px;
            border-radius: 15px;
            border-left: 5px solid #8A2BE2;
        }
        
        .dimension-title {
            font-size: 22px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
        }
        
        .dimension-desc {
            font-size: 16px;
            color: #555;
            line-height: 1.5;
        }
        
        .dimension-emoji {
            font-size: 28px;
            margin-bottom: 8px;
        }
        
        .progress-bar {
            height: 10px;
            background: #eee;
            border-radius: 12px;
            margin-bottom: 35px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #8A2BE2 0%, #FF69B4 100%);
            border-radius: 12px;
            transition: width 0.5s ease;
        }
        
        .question-counter {
            text-align: center;
            color: #777;
            font-size: 16px;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .question {
            font-size: 24px;
            font-weight: 700;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.5;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .option {
            padding: 22px 25px;
            border: 3px solid #e0e0e0;
            border-radius: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
            background: white;
        }
        
        .option:hover {
            border-color: #8A2BE2;
            background: #f0f2ff;
            transform: translateX(8px);
        }
        
        .option.selected {
            border-color: #8A2BE2;
            background: #f0f2ff;
            box-shadow: 0 5px 20px rgba(138, 43, 226, 0.2);
        }
        
        .option-radio {
            width: 26px;
            height: 26px;
            border: 3px solid #ccc;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }
        
        .option.selected .option-radio {
            border-color: #8A2BE2;
            background: #8A2BE2;
        }
        
        .option.selected .option-radio::after {
            content: 'âœ“';
            color: white;
            font-size: 16px;
            font-weight: bold;
        }
        
        .option-text {
            font-size: 20px;
            color: #444;
            line-height: 1.5;
        }
        
        .trap-hint {
            font-size: 16px;
            color: #FF6B6B;
            font-style: italic;
            margin-top: 12px;
            padding: 12px;
            background: #fff5f5;
            border-radius: 10px;
            border-left: 4px solid #FF6B6B;
        }
        
        .btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #8A2BE2 0%, #FF69B4 100%);
            color: white;
            border: none;
            border-radius: 18px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 35px;
            transition: all 0.3s ease;
            opacity: 0.5;
            pointer-events: none;
        }
        
        .btn.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .btn.active:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(138, 43, 226, 0.3);
        }
        
        /* çµæœé é¢ */
        .result {
            display: none;
            text-align: center;
            animation: fadeIn 0.8s ease;
        }
        
        .result-icon {
            font-size: 90px;
            margin-bottom: 25px;
        }
        
        .result-type {
            font-size: 42px;
            font-weight: 800;
            color: #8A2BE2;
            margin-bottom: 15px;
        }
        
        .result-title {
            font-size: 26px;
            color: #333;
            margin-bottom: 25px;
            font-weight: 600;
        }
        
        .dimension-scores {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 30px 0;
        }
        
        .score-item {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        
        .score-letter {
            font-size: 28px;
            font-weight: 800;
            color: #8A2BE2;
            margin-bottom: 5px;
        }
        
        .score-name {
            font-size: 16px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .score-bar-container {
            height: 20px;
            background: #eee;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        
        .score-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #8A2BE2 0%, #FF69B4 100%);
            border-radius: 10px;
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .score-percent {
            font-size: 18px;
            font-weight: 700;
            color: #333;
        }
        
        .reliability {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 25px 0;
        }
        
        .star {
            font-size: 32px;
            color: #FFD700;
        }
        
        .reliability-text {
            font-size: 16px;
            color: #666;
            margin-top: 10px;
            margin-bottom: 25px;
        }
        
        .result-desc {
            font-size: 18px;
            color: #555;
            line-height: 1.8;
            margin-bottom: 30px;
            text-align: left;
            padding: 25px;
            background: #f8f9ff;
            border-radius: 15px;
        }
        
        .restart-btn {
            background: white;
            color: #8A2BE2;
            border: 3px solid #8A2BE2;
            padding: 18px 35px;
            border-radius: 15px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 15px;
            font-weight: 600;
        }
        
        .restart-btn:hover {
            background: #8A2BE2;
            color: white;
        }
        
        /* å‹•ç•« */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        
        /* éŸ¿æ‡‰å¼ */
        @media (max-width: 600px) {
            .container {
                padding: 30px 20px;
                border-radius: 20px;
            }
            
            .header h1 {
                font-size: 26px;
            }
            
            .dimension-title {
                font-size: 19px;
            }
            
            .dimension-desc {
                font-size: 15px;
            }
            
            .question {
                font-size: 22px;
            }
            
            .option-text {
                font-size: 18px;
            }
            
            .dimensions {
                grid-template-columns: 1fr;
            }
            
            .dimension-scores {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é–‹å§‹é é¢ -->
        <div id="startPage" class="fade-in">
            <div class="header">
                <h1>ğŸ¢ğŸ’¼ é¦™æ¸¯è·å ´äººæ ¼æ¸¬è©¦</h1>
                <p>å››å¤§ç¶­åº¦ â€¢ 24æ¢è²¼åœ°é¡Œç›® â€¢ ç´„5åˆ†é˜å®Œæˆ<br>å¹«ä½ äº†è§£è‡ªå·±å˜…è·å ´æ€§æ ¼åŒå·¥ä½œæ¨¡å¼ï¼</p>
            </div>
            
            <div class="dimensions">
                <div class="dimension">
                    <div class="dimension-emoji">âš¡</div>
                    <div class="dimension-title">E / I - èƒ½é‡ä¾†æº</div>
                    <div class="dimension-desc">
                        E = <strong>External charging</strong><br>å¾äººç¾¤ä¸­ç²å¾—èƒ½é‡ ğŸ’¬<br>
                        I = <strong>Internal energy</strong><br>ç¨è™•æ™‚å……é›» ğŸ§˜
                    </div>
                </div>
                <div class="dimension">
                    <div class="dimension-emoji">ğŸ”</div>
                    <div class="dimension-title">S / N - è³‡è¨Šè™•ç†</div>
                    <div class="dimension-desc">
                        S = <strong>See facts first</strong><br>çœ¼è¦‹ç‚ºå¯¦ï¼Œæ³¨é‡å…·é«”æ•¸æ“š ğŸ“Š<br>
                        N = <strong>Need vision</strong><br>è¦æœ‰é è¦‹ï¼Œé—œæ³¨æœªä¾†å¯èƒ½ ğŸ”®
                    </div>
                </div>
                <div class="dimension">
                    <div class="dimension-emoji">âš–ï¸</div>
                    <div class="dimension-title">T / F - æ±ºç­–æ–¹å¼</div>
                    <div class="dimension-desc">
                        T = <strong>Thinking first</strong><br>æ€è€ƒè¡Œå…ˆï¼Œé‚è¼¯åˆ†æ ğŸ§ <br>
                        F = <strong>Feeling first</strong><br>æ„Ÿè¦ºè¡Œå…ˆï¼Œè€ƒæ…®äººéš›å’Œè«§ â¤ï¸
                    </div>
                </div>
                <div class="dimension">
                    <div class="dimension-emoji">ğŸ“…</div>
                    <div class="dimension-title">P / J - å·¥ä½œé¢¨æ ¼</div>
                    <div class="dimension-desc">
                        P = <strong>Play by ear</strong><br>è¦‹æ­¥è¡Œæ­¥ï¼Œéˆæ´»æ‡‰è®Š ğŸ¯<br>
                        J = <strong>Just plan it</strong><br>è¨ˆåŠƒå¥½å…ˆï¼Œå–œæ­¡è¨ˆåŠƒ ğŸ“‹
                    </div>
                </div>
            </div>
            
            <div style="background: #f0f2ff; padding: 22px; border-radius: 18px; margin: 25px 0; border-left: 6px solid #8A2BE2;">
                <p style="color: #555; font-size: 17px; line-height: 1.6; margin: 0;">
                    <strong>ğŸ¯ æ¸¬è©¦ç‰¹é»ï¼š</strong><br>
                    â€¢ 24æ¢è²¼åœ°é¦™æ¸¯è·å ´é¡Œç›®<br>
                    â€¢ æ¯çµ„åŒ…å«é™·é˜±é¡Œé©—è­‰<br>
                    â€¢ å‹•æ…‹é‚è¼¯ï¼ˆæ¨¡ç³Šæ™‚è‡ªå‹•åŠ é¡Œï¼‰<br>
                    â€¢ é€Ÿåº¦è¨ˆç®—èˆ‡å¯é åº¦è©•åˆ†<br>
                    â€¢ æ‰‹æ©Ÿå‹å¥½ï¼Œå­—é«”è¶…å¤§ ğŸ‘“<br>
                    â€¢ å®Œå…¨å…è²»ï¼Œç„¡éœ€è¨»å†Š ğŸ’¯
                </p>
            </div>
            
            <button class="btn active" onclick="startQuiz()">ç«‹å³é–‹å§‹æ¸¬è©¦ ğŸš€</button>
        </div>
        
        <!-- é¡Œç›®é é¢ -->
        <div id="quizPage" style="display: none;">
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
            <div class="question-counter" id="questionCounter">ç¬¬ 1 é¡Œ / å…± 24 é¡Œ</div>
            <div class="question" id="questionText"></div>
            <div class="options" id="optionsContainer"></div>
            <div class="trap-hint" id="trapHint" style="display: none;"></div>
            <button class="btn" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ â¡ï¸</button>
        </div>
        
        <!-- çµæœé é¢ -->
        <div id="resultPage" class="result fade-in">
            <div class="result-icon" id="resultIcon">ğŸ‰</div>
            <div class="result-type" id="resultType"></div>
            <div class="result-title" id="resultTitle"></div>
            
            <div class="dimension-scores" id="dimensionScores"></div>
            
            <div class="stats-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 25px 0;">
                <div class="stat-box" style="background: #f8f9ff; padding: 16px; border-radius: 12px; text-align: center;">
                    <div style="font-size: 14px; color: #666; margin-bottom: 6px;">ğŸ¯ æ¸¬è©¦æº–ç¢ºåº¦</div>
                    <div id="trapScore" style="font-size: 16px; font-weight: 700; color: #8A2BE4;"></div>
                </div>
                <div class="stat-box" style="background: #f8f9ff; padding: 16px; border-radius: 12px; text-align: center;">
                    <div style="font-size: 14px; color: #666; margin-bottom: 6px;">â±ï¸ å®Œæˆæ™‚é–“</div>
                    <div id="timeStats" style="font-size: 16px; font-weight: 700; color: #8A2BE4;"></div>
                </div>
            </div>
            
            <div class="reliability" id="reliabilityStars"></div>
            <div class="reliability-text" id="reliabilityText"></div>
            
            <div class="result-desc" id="resultDesc"></div>
            
            <div style="background: #f0f2ff; padding: 20px; border-radius: 15px; margin: 25px 0; border-left: 6px solid #8A2BE2;">
                <div style="font-size: 15px; color: #555; font-weight: 700; margin-bottom: 10px;">ğŸ“Š åˆ†æ•¸è§£è®€ï¼š</div>
                <ul style="font-size: 14px; color: #666; line-height: 1.7; margin: 0; padding-left: 20px;">
                    <li><strong>60-100%</strong>ï¼šæ˜é¡¯å‚¾å‘è©²å´</li>
                    <li><strong>40-60%</strong>ï¼šå¹³è¡¡å‹ï¼ˆéœ€è¦åŠ é¡Œåˆ¤æ–·ï¼‰</li>
                    <li><strong>0-40%</strong>ï¼šå‚¾å‘å°ç«‹å´</li>
                    <li><strong>æ¯çµ„ 6é¡Œ</strong>ï¼Œå¦‚æ¨¡ç³Šæœƒè‡ªå‹•åŠ é¡Œè‡³æœ€å¤š 8é¡Œ</li>
                </ul>
            </div>
            
            <button class="restart-btn" onclick="restartQuiz()">ğŸ”„ é‡æ–°æ¸¬è©¦</button>
        </div>
    </div>

    <script>
        // å››å¤§ç¶­åº¦é¡Œåº« (æ¯ç¶­åº¦ 6é¡Œ + 1é™·é˜±é¡Œ)
        const questions = [
            // ========== E/I ç¶­åº¦ (7é¡Œ) ==========
            {
                id: 1,
                question: "ğŸ•’ æ˜ŸæœŸäº”æ”¶å·¥å‰ï¼ŒåŒäº‹çªç„¶ç´„é£Ÿé£¯ï¼Œä½†ä½ è¨ˆåŠƒå’—è¿”å±‹ä¼ç‡æ›¸ä¼‘æ¯ï¼š",
                options: [
                    { text: "ç«‹å³æ‡‰æ‰¿ï¼ŒåŒåŒäº‹èšèšå‚¾ä¸‹è¨ˆï¼", value: "E" },
                    { text: "å©‰æ‹’ï¼Œå …æŒè¿”å±‹ä¼è‡ªå·±ä¼‘æ¯", value: "I" }
                ],
                dimension: "EI",
                isTrap: false,
                category: "work-social"
            },
            {
                id: 2,
                question: "ğŸš‡ æ­åœ°éµé‡è¦‹å””ä¿‚å¥½ç†Ÿå˜…åŒäº‹ï¼Œè·¯ç¨‹æœ‰5å€‹ç«™ï¼š",
                options: [
                    { text: "ä¸»å‹•æ‰“æ‹›å‘¼ï¼Œå˜—è©¦æµè©±é¡Œå‚¾åˆ", value: "E" },
                    { text: "è¼•è¼•é»é ­å¾®ç¬‘ï¼Œç„¶å¾Œç‡æ‰‹æ©Ÿé¿é–‹äº¤æµ", value: "I" }
                ],
                dimension: "EI",
                isTrap: false,
                category: "commute"
            },
            {
                id: 3,
                question: "ğŸ‰ æœ‹å‹ç”Ÿæ—¥é£¯å±€æœ‰15äººåƒåŠ ï¼Œä½ å””è­˜å…¶ä»–æœ‹å‹ï¼š",
                options: [
                    { text: "ç•¶ä¿‚è­˜æ–°æœ‹å‹æ©Ÿæœƒï¼Œä¸»å‹•è‡ªæˆ‘ä»‹ç´¹", value: "E" },
                    { text: "é»å¯¦èªè­˜å˜…æœ‹å‹ï¼Œå””æƒ³åŒé™Œç”Ÿäººå‚¾åˆ", value: "I" }
                ],
                dimension: "EI",
                isTrap: false,
                category: "group-social"
            },
            {
                id: 4,
                question: "ğŸ“± å·¥ä½œä¸Šé‡åˆ°é›£é¡Œï¼Œä½ æœƒé»è™•ç†ï¼Ÿ",
                options: [
                    { text: "æµåŒäº‹/ä¸Šå¸å‚¾ä¸‹ï¼Œè½ä¸‹æ„è¦‹", value: "E" },
                    { text: "è‡ªå·±éœéœåœ°ç ”ç©¶ï¼Œè§£æ±ºå…ˆè¬›", value: "I" }
                ],
                dimension: "EI",
                isTrap: false,
                category: "work-problem"
            },
            {
                id: 5,
                question: "ğŸ’¬ å¿ƒæƒ…å””å¥½å—°é™£ï¼Œä½ é€šå¸¸æœƒï¼š",
                options: [
                    { text: "æµæœ‹å‹å‚¾è¨´ï¼Œè¬›å‡ºåšŸèˆ’æœå•²", value: "E" },
                    { text: "è‡ªå·±æ¶ˆåŒ–ï¼Œå””æƒ³æ‰“æ“¾äºº", value: "I" }
                ],
                dimension: "EI",
                isTrap: false,
                category: "emotional"
            },
            {
                id: 6,
                question: "ğŸ–ï¸ æœ‰å…©æ—¥å‡æœŸï¼Œä½ æœ€ç†æƒ³é»å®‰æ’ï¼Ÿ",
                options: [
                    { text: "ç´„æœ‹å‹å»ç©ï¼Œæˆ¶å¤–æ´»å‹•æœ€æ­£ï¼", value: "E" },
                    { text: "äº«å— me timeï¼Œåšè‡ªå·±é¾æ„å˜…å˜¢", value: "I" }
                ],
                dimension: "EI",
                isTrap: false,
                category: "weekend"
            },
            {
                id: 7,
                question: "ğŸ§ ä½ æœ‰å†‡èªçœŸç‡ç·Šå‘¢å€‹æ¸¬è©¦ï¼Ÿ",
                options: [
                    { text: "æœ‰ï¼æˆ‘å¥½èªçœŸã—ï¼", value: "correct" },
                    { text: "å†‡ï¼Œäº‚æ’³ä¹‹å˜›", value: "wrong" }
                ],
                dimension: "EI",
                isTrap: true,
                hint: "ğŸ­ èª å¯¦åº¦æ¸¬è©¦é¡Œ"
            },
            
            // ========== S/N ç¶­åº¦ (7é¡Œ) ==========
            {
                id: 8,
                question: "ğŸ“Š åš project æ™‚ï¼Œä½ æ›´å‚¾å‘ï¼š",
                options: [
                    { text: "è·Ÿæ­¥é©Ÿå®Œæˆï¼Œç¢ºä¿æ¯å€‹ç´°ç¯€éƒ½æ­£ç¢º", value: "S" },
                    { text: "å…ˆæ€è€ƒæ•´é«”æ–¹å‘ï¼Œå†å¡«è¿”ç´°ç¯€", value: "N" }
                ],
                dimension: "SN",
                isTrap: false,
                category: "project"
            },
            {
                id: 9,
                question: "ğŸ¯ è€é—†ä¿¾ä½ æ–°ä»»å‹™æ™‚ï¼Œä½ ç¬¬ä¸€æ™‚é–“æœƒï¼š",
                options: [
                    { text: "å•æ¸…æ¥šå…·é«”è¦æ±‚åŒ deadline", value: "S" },
                    { text: "æ€è€ƒä»»å‹™èƒŒå¾Œå˜…æ„ç¾©åŒå¯èƒ½æ€§", value: "N" }
                ],
                dimension: "SN",
                isTrap: false,
                category: "task"
            },
            {
                id: 10,
                question: "ğŸ“ˆ å…¬å¸æ˜å¹´å˜…ç™¼å±•æ–¹å‘ï¼Œä½ æœƒé»ç‡ï¼Ÿ",
                options: [
                    { text: "ç‡è¿”éå»æ•¸æ“šåŒè¡¨ç¾åšŸåˆ¤æ–·", value: "S" },
                    { text: "æƒ³åƒæœªä¾†å„ç¨®å¯èƒ½æ€§åŒè¶¨å‹¢", value: "N" }
                ],
                dimension: "SN",
                isTrap: false,
                category: "future"
            },
            {
                id: 11,
                question: "ğŸ§© è§£æ±ºå•é¡Œæ™‚ï¼Œä½ é€šå¸¸ï¼š",
                options: [
                    { text: "ç”¨å·²çŸ¥å˜…æ–¹æ³•ï¼Œä¸€æ­¥æ­¥è©¦", value: "S" },
                    { text: "è«—æ–°å˜…è§£æ±ºæ–¹æ¡ˆï¼Œè·³å‡ºæ¡†æ¡†", value: "N" }
                ],
                dimension: "SN",
                isTrap: false,
                category: "problem-solving"
            },
            {
                id: 12,
                question: "ğŸ“š å­¸ç¿’æ–°æŠ€èƒ½æ™‚ï¼Œä½ åå¥½ï¼š",
                options: [
                    { text: "ç‡èªªæ˜æ›¸ï¼Œä¸€æ­¥æ­¥è·Ÿä½åš", value: "S" },
                    { text: "æŒæ¡å¤§æ¦‚å¿µï¼Œç„¶å¾Œè‡ªå·±ç™¼æ®", value: "N" }
                ],
                dimension: "SN",
                isTrap: false,
                category: "learning"
            },
            {
                id: 13,
                question: "ğŸ” åŒäº‹ä¿¾ä½ ä¸€ä»½å ±å‘Šï¼Œä½ æœƒé¦–å…ˆï¼š",
                options: [
                    { text: "ç‡å…·é«”æ•¸æ“šåŒè¡¨æ ¼", value: "S" },
                    { text: "ç‡çµè«–åŒèƒŒå¾Œå«ç¾©", value: "N" }
                ],
                dimension: "SN",
                isTrap: false,
                category: "report"
            },
            {
                id: 14,
                question: "ğŸ¤” ä½ è¦ºå¾—å‘¢å€‹æ¸¬è©¦ä¿‚å’ªæœ‰å¯¦éš›ç”¨è™•ï¼Ÿ",
                options: [
                    { text: "ä¿‚ï¼è¨­è¨ˆå¾—å¥½æœ‰å¿ƒæ©Ÿ", value: "correct" },
                    { text: "å””ä¿‚ï¼Œäº‚å’è¨­è¨ˆå˜…å•«", value: "wrong" }
                ],
                dimension: "SN",
                isTrap: true,
                hint: "ğŸ­ èªçœŸåº¦æ¸¬è©¦é¡Œ"
            },
            
            // ========== T/F ç¶­åº¦ (7é¡Œ) ==========
            {
                id: 15,
                question: "âš–ï¸ åŒäº‹åšéŒ¯å˜¢å½±éŸ¿ä½ å˜…å·¥ä½œï¼Œä½ æœƒï¼š",
                options: [
                    { text: "ç›´æ¥æŒ‡å‡ºéŒ¯èª¤ï¼Œè¦æ±‚ä½¢æ”¹æ­£", value: "T" },
                    { text: "å©‰è½‰æé†’ï¼Œé¡§åŠå°æ–¹é¢å­", value: "F" }
                ],
                dimension: "TF",
                isTrap: false,
                category: "conflict"
            },
            {
                id: 16,
                question: "ğŸ’° è²·å˜¢æ™‚ï¼Œä½ ä¸»è¦è€ƒæ…®ï¼š",
                options: [
                    { text: "æ€§åƒ¹æ¯”ã€åŠŸèƒ½ã€å¯¦éš›éœ€è¦", value: "T" },
                    { text: "æ„Ÿè¦ºã€å¤–è§€ã€ç”¨å®¶è©•åƒ¹", value: "F" }
                ],
                dimension: "TF",
                isTrap: false,
                category: "decision"
            },
            {
                id: 17,
                question: "ğŸª å…¬å¸ææ´»å‹•ï¼Œæœ‰å…©å€‹æ–¹æ¡ˆï¼š",
                options: [
                    { text: "Aæ–¹æ¡ˆï¼šå¹³å•²ï¼Œä½†æ°£æ°›æ™®é€š", value: "T" },
                    { text: "Bæ–¹æ¡ˆï¼šè²´å•²ï¼Œä½†å¤§å®¶æœƒé–‹å¿ƒå•²", value: "F" }
                ],
                dimension: "TF",
                isTrap: false,
                category: "event"
            },
            {
                id: 18,
                question: "ğŸ“ å¯«é›»éƒµæ™‚ï¼Œä½ æ›´æ³¨é‡ï¼š",
                options: [
                    { text: "å…§å®¹æº–ç¢ºã€é‚è¼¯æ¸…æ™°", value: "T" },
                    { text: "èªæ°£å‹å–„ã€é—œä¿‚ç¶­è­·", value: "F" }
                ],
                dimension: "TF",
                isTrap: false,
                category: "communication"
            },
            {
                id: 19,
                question: "ğŸ¤ åœ˜éšŠæœ‰ä¸åŒæ„è¦‹æ™‚ï¼Œä½ å‚¾å‘ï¼š",
                options: [
                    { text: "ç”¨æ•¸æ“šåŒé‚è¼¯èªªæœå°æ–¹", value: "T" },
                    { text: "å°‹æ±‚å…±è­˜ï¼Œä¿æŒå’Œè«§", value: "F" }
                ],
                dimension: "TF",
                isTrap: false,
                category: "team"
            },
            {
                id: 20,
                question: "ğŸ•°ï¸ åšæ±ºå®šæ™‚ï¼Œä½ é¦–è¦è€ƒæ…®ï¼š",
                options: [
                    { text: "æ•ˆç‡åŒçµæœ", value: "T" },
                    { text: "å°åœ˜éšŠå˜…å½±éŸ¿", value: "F" }
                ],
                dimension: "TF",
                isTrap: false,
                category: "decision-making"
            },
            {
                id: 21,
                question: "ğŸ˜Š ä½ æœ‰å†‡è¦ºå¾—å‘¢å€‹æ¸¬è©¦å¹¾æœ‰è¶£ï¼Ÿ",
                options: [
                    { text: "æœ‰ï¼è¨­è¨ˆå¾—å¹¾å¥½", value: "correct" },
                    { text: "å†‡ï¼Œå¥½ç„¡èŠ", value: "wrong" }
                ],
                dimension: "TF",
                isTrap: true,
                hint: "ğŸ­ æ…‹åº¦æ¸¬è©¦é¡Œ"
            },
            
            // ========== P/J ç¶­åº¦ (7é¡Œ) ==========
            {
                id: 22,
                question: "ğŸ“… å‡æœŸå®‰æ’ï¼Œä½ å‚¾å‘ï¼š",
                options: [
                    { text: "è‡¨æ™‚æ±ºå®šï¼Œç‡å¿ƒæƒ…", value: "P" },
                    { text: "ææ—©è¨ˆåŠƒï¼Œè·Ÿæ—¥ç¨‹", value: "J" }
                ],
                dimension: "PJ",
                isTrap: false,
                category: "holiday"
            },
            {
                id: 23,
                question: "ğŸ—“ï¸ æ¯æ—¥å·¥ä½œï¼Œä½ é€šå¸¸ï¼š",
                options: [
                    { text: "éš¨å¿ƒåšï¼Œæœ‰å’©åšå’©", value: "P" },
                    { text: "å¯« to-do listï¼Œä¸€é …é …å®Œæˆ", value: "J" }
                ],
                dimension: "PJ",
                isTrap: false,
                category: "work"
            },
            {
                id: 24,
                question: "ğŸ“¦ åšå˜¢åˆ°ä¸€åŠæœ‰æ–° requestï¼Œä½ æœƒï¼š",
                options: [
                    { text: "éˆæ´»èª¿æ•´ï¼Œhandle æ–°å˜¢å…ˆ", value: "P" },
                    { text: "å …æŒå®Œæˆæ‰‹é ­ä¸Šå˜…å˜¢", value: "J" }
                ],
                dimension: "PJ",
                isTrap: false,
                category: "change"
            },
            {
                id: 25,
                question: "ğŸ  å±‹ä¼æ”¶ç´ï¼Œä½ å˜…ç¿’æ…£ä¿‚ï¼š",
                options: [
                    { text: "å˜¢æ”¾é‚Šéƒ½å¾—ï¼Œæ¾åˆ°å°±å¾—", value: "P" },
                    { text: "æ¯æ¨£å˜¢æœ‰å›ºå®šä½ç½®", value: "J" }
                ],
                dimension: "PJ",
                isTrap: false,
                category: "organization"
            },
            {
                id: 26,
                question: "â° ç´„æœ‹å‹é£Ÿé£¯ï¼Œä½ æœƒï¼š",
                options: [
                    { text: "å¤§æ¦‚æ™‚é–“ï¼Œåˆ°æ™‚å† confirm", value: "P" },
                    { text: "æº–ç¢ºæ™‚é–“åœ°é»ï¼Œæ—©åˆ°æº–å‚™", value: "J" }
                ],
                dimension: "PJ",
                isTrap: false,
                category: "appointment"
            },
            {
                id: 27,
                question: "ğŸ® ç©æ–° gameï¼Œä½ é»é–‹å§‹ï¼Ÿ",
                options: [
                    { text: "ç›´æ¥å…¥ game è©¦ä¸‹å…ˆ", value: "P" },
                    { text: "ç‡æ•™å­¸ã€æ”»ç•¥å…ˆé–‹å§‹", value: "J" }
                ],
                dimension: "PJ",
                isTrap: false,
                category: "gaming"
            },
            {
                id: 28,
                question: "ğŸ§  ä½ æœ‰å†‡å°ˆå¿ƒåšç·Šå‘¢å€‹æ¸¬è©¦ï¼Ÿ",
                options: [
                    { text: "æœ‰ï¼æˆ‘å¥½å°ˆå¿ƒã—ï¼", value: "correct" },
                    { text: "å†‡ï¼Œæ±‚å…¶æ’³ä¹‹å˜›", value: "wrong" }
                ],
                dimension: "PJ",
                isTrap: true,
                hint: "ğŸ­ å°ˆæ³¨åº¦æ¸¬è©¦é¡Œ"
            }
        ];

        // å‹•æ…‹åŠ é¡Œé‚è¼¯ (æ¯çµ„å¦‚æœæ¨¡ç³ŠæœƒåŠ 2é¡Œ)
        const extraQuestions = {
            "EI": [
                {
                    id: 29,
                    question: "ğŸ‘¥ å…¬å¸ team buildingï¼Œä½ æœƒåƒåŠ ï¼š",
                    options: [
                        { text: "é›†é«”éŠæˆ²ï¼Œç†±é¬§å•²å¥½ç©ï¼", value: "E" },
                        { text: "å°çµ„å‚¾åˆï¼Œæ·±åº¦äº¤æµ", value: "I" }
                    ],
                    dimension: "EI",
                    isTrap: false,
                    category: "team-building"
                },
                {
                    id: 30,
                    question: "ğŸ“ æœ‰å•é¡Œè¦å•åŒäº‹ï¼Œä½ æœƒï¼š",
                    options: [
                        { text: "ç›´æ¥æ‰“é›»è©±/é¢å°é¢å•", value: "E" },
                        { text: "ç™¼è¨Šæ¯/é›»éƒµï¼Œå””æƒ³æ‰“æ“¾", value: "I" }
                    ],
                    dimension: "EI",
                    isTrap: false,
                    category: "communication"
                }
            ],
            "SN": [
                {
                    id: 31,
                    question: "ğŸ¨ Designå·¥ä½œï¼Œä½ æ›´æ³¨é‡ï¼š",
                    options: [
                        { text: "è·Ÿè¶³ design specï¼Œæº–ç¢ºåŸ·è¡Œ", value: "S" },
                        { text: "å‰µé€ æ–°æ„å¿µï¼Œçªç ´å‚³çµ±", value: "N" }
                    ],
                    dimension: "SN",
                    isTrap: false,
                    category: "design"
                },
                {
                    id: 32,
                    question: "ğŸ“‹ é–‹æœƒè¨è«–æ™‚ï¼Œä½ å‚¾å‘ï¼š",
                    options: [
                        { text: "è¬›å…·é«”äº‹å¯¦åŒæ•¸æ“š", value: "S" },
                        { text: "è¬›å¤§æ–¹å‘åŒé¡˜æ™¯", value: "N" }
                    ],
                    dimension: "SN",
                    isTrap: false,
                    category: "meeting"
                }
            ],
            "TF": [
                {
                    id: 33,
                    question: "ğŸ“Š è©•ä¼°åŒäº‹è¡¨ç¾ï¼Œä½ æœƒï¼š",
                    options: [
                        { text: "ç‡å¯¦éš›æ•¸æ“šåŒæˆæœ", value: "T" },
                        { text: "è€ƒæ…®ä½¢å˜…åŠªåŠ›åŒåœ˜éšŠç²¾ç¥", value: "F" }
                    ],
                    dimension: "TF",
                    isTrap: false,
                    category: "evaluation"
                },
                {
                    id: 34,
                    question: "ğŸ’¼ è«‹äººæ™‚ï¼Œä½ æœ€é‡è¦–ï¼š",
                    options: [
                        { text: "æŠ€èƒ½åŒç¶“é©—", value: "T" },
                        { text: "æ€§æ ¼åŒåœ˜éšŠ fit å”” fit", value: "F" }
                    ],
                    dimension: "TF",
                    isTrap: false,
                    category: "hiring"
                }
            ],
            "PJ": [
                {
                    id: 35,
                    question: "ğŸ“ åšå ±å‘Šæ™‚ï¼Œä½ é€šå¸¸ï¼š",
                    options: [
                        { text: "æœ‰éˆæ„Ÿå°±å¯«ï¼Œéš¨å¿ƒç™¼æ®", value: "P" },
                        { text: "å…ˆå¯«å¤§ç¶±ï¼Œå†å¡«å……å…§å®¹", value: "J" }
                    ],
                    dimension: "PJ",
                    isTrap: false,
                    category: "report-writing"
                },
                {
                    id: 36,
                    question: "ğŸ›’ å»è¶…å¸‚è³¼ç‰©ï¼Œä½ ç¿’æ…£ï¼š",
                    options: [
                        { text: "è¦‹åˆ°å’©æƒ³è²·å°±è²·", value: "P" },
                        { text: "è·Ÿ shopping list è²·", value: "J" }
                    ],
                    dimension: "PJ",
                    isTrap: false,
                    category: "shopping"
                }
            ]
        };

        // äººæ ¼é¡å‹æè¿°
        const typeDescriptions = {
            "ESTJ": {
                icon: "ğŸ¢",
                title: "è¡Œæ”¿ç¸½ç›£",
                desc: "ä½ ä¿‚å¯¦å¹¹å‹é ˜è¢–ï¼æ³¨é‡æ•ˆç‡åŒç§©åºï¼Œé¾æ„æŒ‰è¨ˆåŠƒè¡Œäº‹ï¼Œä¿‚åœ˜éšŠå˜…ç©©å®šåŠ›é‡ã€‚"
            },
            "ESTP": {
                icon: "ğŸ²",
                title: "å‰µæ¥­å®¶",
                desc: "ä½ éˆæ´»è®Šé€šï¼Œé¾æ„å³èˆˆç™¼æ®ï¼Œå–„æ–¼æŠŠæ¡æ©Ÿæœƒï¼Œä¿‚è§£æ±ºå•é¡Œå˜…é«˜æ‰‹ã€‚"
            },
            "ESFJ": {
                icon: "ğŸ¤",
                title: "äº¤éš›èƒ½æ‰‹",
                desc: "ä½ é‡è¦–äººéš›å’Œè«§ï¼Œå–„æ–¼ç…§é¡§ä»–äººæ„Ÿå—ï¼Œä¿‚åœ˜éšŠå˜…å‡èšåŠ›æ‰€åœ¨ã€‚"
            },
            "ESFP": {
                icon: "ğŸ‰",
                title: "è¡¨æ¼”è€…",
                desc: "ä½ å……æ»¿æ´»åŠ›ï¼Œé¾æ„ç¤¾äº¤åŒå¨›æ¨‚ï¼Œç‚ºåœ˜éšŠå¸¶ä¾†æ­¡æ¨‚æ°£æ°›ã€‚"
            },
            "ENTJ": {
                icon: "ğŸ‘‘",
                title: "æŒ‡æ®å®˜",
                desc: "ä½ ä¿‚å¤©ç”Ÿé ˜è¢–ï¼Œæœ‰é è¦‹åŒæ±ºæ–·åŠ›ï¼Œå–„æ–¼è¦åŠƒåŒåŸ·è¡Œå¤§å‹é …ç›®ã€‚"
            },
            "ENTP": {
                icon: "ğŸ’¡",
                title: "ç™¼æ˜å®¶",
                desc: "ä½ å‰µæ„ç„¡é™ï¼Œé¾æ„æŒ‘æˆ°å‚³çµ±ï¼Œå–„æ–¼è¾¯è«–åŒæå‡ºæ–°é»å­ã€‚"
            },
            "ENFJ": {
                icon: "ğŸŒŸ",
                title: "å°å¸«",
                desc: "ä½ å–„æ–¼æ¿€å‹µä»–äººï¼Œæœ‰æ„ŸæŸ“åŠ›ï¼Œé—œæ³¨åœ˜éšŠæˆé•·åŒç™¼å±•ã€‚"
            },
            "ENFP": {
                icon: "ğŸŒˆ",
                title: "å€¡å°è€…",
                desc: "ä½ ç†±æƒ…æ´‹æº¢ï¼Œå……æ»¿å¯èƒ½æ€§ï¼Œå–„æ–¼é€£çµä¸åŒäººåŒæƒ³æ³•ã€‚"
            },
            "ISTJ": {
                icon: "ğŸ“‹",
                title: "ç¨½æŸ¥å“¡",
                desc: "ä½ èªçœŸè² è²¬ï¼Œæ³¨é‡ç´°ç¯€åŒè¦å‰‡ï¼Œä¿‚åœ˜éšŠå¯é å˜…åŸ·è¡Œè€…ã€‚"
            },
            "ISTP": {
                icon: "ğŸ”§",
                title: "å·¥åŒ ",
                desc: "ä½ å†·éœå‹™å¯¦ï¼Œå–„æ–¼åˆ†æåŒè§£æ±ºå¯¦éš›å•é¡Œï¼Œæ‰‹ä½œèƒ½åŠ›å¼·ã€‚"
            },
            "ISFJ": {
                icon: "ğŸ›¡ï¸",
                title: "å®ˆè­·è€…",
                desc: "ä½ ç´°å¿ƒé«”è²¼ï¼Œä¿è­·åœ˜éšŠå…å—å‚·å®³ï¼Œé»˜é»˜ä»˜å‡ºä¸æ±‚å›å ±ã€‚"
            },
            "ISFP": {
                icon: "ğŸ¨",
                title: "è—è¡“å®¶",
                desc: "ä½ æ„Ÿæ€§æ•éŠ³ï¼Œæ³¨é‡ç•¶ä¸‹é«”é©—ï¼Œå–„æ–¼ç”¨å‰µæ„è¡¨é”è‡ªå·±ã€‚"
            },
            "INTJ": {
                icon: "ğŸ§ ",
                title: "å»ºç¯‰å¸«",
                desc: "ä½ ä¿‚æˆ°ç•¥å¤§å¸«ï¼Œå–„æ–¼é•·é è¦åŠƒåŒç³»çµ±æ€è€ƒï¼Œè¿½æ±‚å®Œç¾æ–¹æ¡ˆã€‚"
            },
            "INTP": {
                icon: "ğŸ”¬",
                title: "é‚è¼¯å­¸å®¶",
                desc: "ä½ ç†±æ„›çŸ¥è­˜åŒç†è«–ï¼Œå–„æ–¼åˆ†æè¤‡é›œæ¦‚å¿µï¼Œè¿½æ±‚çœŸç†ã€‚"
            },
            "INFJ": {
                icon: "ğŸ”®",
                title: "æå€¡è€…",
                desc: "ä½ æœ‰æ·±åº¦åŒç†å¿ƒï¼Œè¿½æ±‚æ„ç¾©åŒç†æƒ³ï¼Œå–„æ–¼æ´å¯Ÿä»–äººå…§å¿ƒã€‚"
            },
            "INFP": {
                icon: "ğŸ’­",
                title: "èª¿åœè€…",
                desc: "ä½ ç†æƒ³ä¸»ç¾©ï¼Œé‡è¦–å€‹äººåƒ¹å€¼è§€ï¼Œè¿½æ±‚å’Œè«§åŒçœŸå¯¦å˜…è‡ªæˆ‘è¡¨é”ã€‚"
            }
        };

        // ç‹€æ…‹è®Šæ•¸
        let currentQuestionIndex = 0;
        let answers = [];
        let trapCorrect = 0;
        let totalTime = 0;
        let startTime = 0;
        let questionStartTime = 0;
        let questionOrder = [...questions];
        let addedQuestions = { EI: false, SN: false, TF: false, PJ: false };
        let dimensionScores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, P: 0, J: 0 };
        let dimensionCounts = { EI: 0, SN: 0, TF: 0, PJ: 0 };

        // å·¥å…·å‡½æ•¸
        function startQuiz() {
            document.getElementById('startPage').style.display = 'none';
            document.getElementById('quizPage').style.display = 'block';
            document.getElementById('quizPage').classList.add('fade-in');
            startTime = Date.now();
            questionOrder = [...questions]; // è¤‡è£½é¡Œç›®é †åº
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestionIndex >= questionOrder.length) {
                calculateResults();
                return;
            }
            
            const q = questionOrder[currentQuestionIndex];
            questionStartTime = Date.now();
            
            // æ›´æ–°é€²åº¦æ¢
            const progress = ((currentQuestionIndex + 1) / questionOrder.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // æ›´æ–°é¡Œè™Ÿ
            document.getElementById('questionCounter').textContent = 
                q.isTrap ? `ğŸ­ é©—è­‰é¡Œ ${currentQuestionIndex + 1} / ${questionOrder.length}` : 
                `ç¬¬ ${currentQuestionIndex + 1} é¡Œ / å…± ${questionOrder.length} é¡Œ`;
            
            // æ›´æ–°é¡Œç›®
            document.getElementById('questionText').textContent = q.question;
            
            // é¡¯ç¤º/éš±è—æç¤º
            const hintEl = document.getElementById('trapHint');
            if (q.isTrap && q.hint) {
                hintEl.textContent = q.hint;
                hintEl.style.display = 'block';
            } else {
                hintEl.style.display = 'none';
            }
            
            // ç”Ÿæˆé¸é …
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            q.options.forEach((opt, index) => {
                const div = document.createElement('div');
                div.className = 'option';
                div.innerHTML = `
                    <div class="option-radio"></div>
                    <div class="option-text">${opt.text}</div>
                `;
                div.onclick = () => selectOption(index, opt.value, q.dimension);
                optionsContainer.appendChild(div);
            });
            
            // é‡ç½®æŒ‰éˆ•
            document.getElementById('nextBtn').classList.remove('active');
        }

        function selectOption(index, value, dimension) {
            // è¨˜éŒ„ç­”æ¡ˆ
            answers[currentQuestionIndex] = {
                value: value,
                dimension: dimension,
                time: Date.now() - questionStartTime
            };
            
            // æ›´æ–° UI
            const options = document.querySelectorAll('.option');
            options.forEach((opt, i) => {
                opt.classList.toggle('selected', i === index);
            });
            
            // å•Ÿç”¨ä¸‹ä¸€é¡ŒæŒ‰éˆ•
            document.getElementById('nextBtn').classList.add('active');
        }

        function nextQuestion() {
            if (!answers[currentQuestionIndex]) return;
            
            // æª¢æŸ¥æ˜¯å¦éœ€è¦å‹•æ…‹åŠ é¡Œ
            checkAndAddExtraQuestions();
            
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= questionOrder.length) {
                calculateResults();
            } else {
                showQuestion();
            }
        }

        function checkAndAddExtraQuestions() {
            if (currentQuestionIndex < 6) return; // æœªå¤ 6é¡Œå””æª¢æŸ¥
            
            // æª¢æŸ¥æ¯å€‹ç¶­åº¦å˜…åˆ†æ•¸
            const dimensions = ['EI', 'SN', 'TF', 'PJ'];
            dimensions.forEach(dim => {
                const dimAnswers = answers.filter(a => a && a.dimension === dim && !questionOrder.find(q => q.id === a.id)?.isTrap);
                if (dimAnswers.length >= 4) {
                    const eCount = dimAnswers.filter(a => a.value === dim[0]).length;
                    const iCount = dimAnswers.filter(a => a.value === dim[1]).length;
                    const total = dimAnswers.length;
                    
                    // å¦‚æœåˆ†æ•¸æ¥è¿‘ (45-55%) ä¸”æœªåŠ éé¡Œ
                    const ratio = eCount / total;
                    if (ratio >= 0.45 && ratio <= 0.55 && !addedQuestions[dim]) {
                        // åŠ é¡Œ
                        const extraQ1 = extraQuestions[dim][0];
                        const extraQ2 = extraQuestions[dim][1];
                        questionOrder.push(extraQ1, extraQ2);
                        addedQuestions[dim] = true;
                    }
                }
            });
        }

        function calculateResults() {
            document.getElementById('quizPage').style.display = 'none';
            document.getElementById('resultPage').style.display = 'block';
            
            // é‡ç½®è¨ˆæ•¸
            dimensionScores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, P: 0, J: 0 };
            dimensionCounts = { EI: 0, SN: 0, TF: 0, PJ: 0 };
            trapCorrect = 0;
            totalTime = Date.now() - startTime;
            
            // è¨ˆç®—åˆ†æ•¸
            answers.forEach((ans, index) => {
                if (ans) {
                    const q = questionOrder[index];
                    if (q && q.isTrap) {
                        if (ans.value === 'correct') trapCorrect++;
                    } else if (ans.dimension && ans.value) {
                        dimensionScores[ans.value]++;
                        dimensionCounts[ans.dimension]++;
                    }
                }
            });
            
            // è¨ˆç®—ç™¾åˆ†æ¯”
            const ePercent = dimensionCounts.EI > 0 ? Math.round((dimensionScores.E / dimensionCounts.EI) * 100) : 50;
            const sPercent = dimensionCounts.SN > 0 ? Math.round((dimensionScores.S / dimensionCounts.SN) * 100) : 50;
            const tPercent = dimensionCounts.TF > 0 ? Math.round((dimensionScores.T / dimensionCounts.TF) * 100) : 50;
            const pPercent = dimensionCounts.PJ > 0 ? Math.round((dimensionScores.P / dimensionCounts.PJ) * 100) : 50;
            
            // æ±ºå®šå­—æ¯
            const finalType = 
                (ePercent >= 50 ? 'E' : 'I') +
                (sPercent >= 50 ? 'S' : 'N') +
                (tPercent >= 50 ? 'T' : 'F') +
                (pPercent >= 50 ? 'P' : 'J');
            
            // æ›´æ–°çµæœ
            const result = typeDescriptions[finalType] || {
                icon: "â“",
                title: "æœªçŸ¥é¡å‹",
                desc: "ä½ çš„çµæœæ¯”è¼ƒç‰¹åˆ¥ï¼Œéœ€è¦æ›´å¤šåˆ†æã€‚"
            };
            
            document.getElementById('resultIcon').textContent = result.icon;
            document.getElementById('resultType').textContent = finalType;
            document.getElementById('resultTitle').textContent = 'ä½ ä¿‚ â€” ' + result.title;
            document.getElementById('resultDesc').textContent = result.desc;
            
            // æ›´æ–°ç¶­åº¦åˆ†æ•¸
            const scoresContainer = document.getElementById('dimensionScores');
            scoresContainer.innerHTML = '';
            
            const dimensions = [
                { letter: 'E', name: 'External charging', percent: ePercent, opposite: 'I', oppositeName: 'Internal energy' },
                { letter: 'S', name: 'See facts first', percent: sPercent, opposite: 'N', oppositeName: 'Need vision' },
                { letter: 'T', name: 'Thinking first', percent: tPercent, opposite: 'F', oppositeName: 'Feeling first' },
                { letter: 'P', name: 'Play by ear', percent: pPercent, opposite: 'J', oppositeName: 'Just plan it' }
            ];
            
            dimensions.forEach(dim => {
                const scoreItem = document.createElement('div');
                scoreItem.className = 'score-item';
                scoreItem.innerHTML = `
                    <div class="score-letter">${dim.letter}/${dim.opposite}</div>
                    <div class="score-name">${dim.letter}: ${dim.name}</div>
                    <div class="score-bar-container">
                        <div class="score-bar-fill" style="width: ${dim.percent}%">${dim.percent}%</div>
                    </div>
                    <div class="score-percent">${dim.percent}% ${dim.letter} / ${100-dim.percent}% ${dim.opposite}</div>
                `;
                scoresContainer.appendChild(scoreItem);
            });
            
            // æ›´æ–°çµ±è¨ˆ
            const avgTime = Math.round(totalTime / questionOrder.length / 1000);
            document.getElementById('trapScore').textContent = `æ¸¬è©¦é¡Œæº–ç¢ºåº¦ï¼š${trapCorrect}/4 é¡Œ`;
            document.getElementById('timeStats').textContent = `å¹³å‡ ${avgTime}ç§’/é¡Œï¼Œç¸½æ™‚é–“ ${Math.round(totalTime/1000)}ç§’`;
            
            // æ›´æ–°å¯é åº¦
            let stars = '';
            let reliabilityText = '';
            
            if (trapCorrect === 4 && avgTime >= 3) {
                stars = 'â­â­â­â­â­';
                reliabilityText = 'éå¸¸å¯é ï¼ä½ èªçœŸä½œç­” (å¹³å‡ ' + avgTime + ' ç§’/é¡Œ)';
            } else if (trapCorrect >= 2 && avgTime >= 2) {
                stars = 'â­â­â­â­';
                reliabilityText = 'å¯é  (' + trapCorrect + '/4 æ¸¬è©¦é¡Œæ­£ç¢º)';
            } else {
                stars = 'â­â­â­';
                reliabilityText = 'åƒè€ƒæ€§è³ª (å»ºè­°æ”¾é¬†æ™‚å†æ¸¬è©¦ä¸€æ¬¡)';
            }
            
            document.getElementById('reliabilityStars').textContent = stars;
            document.getElementById('reliabilityText').textContent = reliabilityText;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = [];
            trapCorrect = 0;
            totalTime = 0;
            startTime = 0;
            questionOrder = [...questions];
            addedQuestions = { EI: false, SN: false, TF: false, PJ: false };
            dimensionScores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, P: 0, J: 0 };
            dimensionCounts = { EI: 0, SN: 0, TF: 0, PJ: 0 };
            
            document.getElementById('resultPage').style.display = 'none';
            document.getElementById('startPage').style.display = 'block';
            document.getElementById('startPage').classList.add('fade-in');
        }
    </script>
</body>
</html>